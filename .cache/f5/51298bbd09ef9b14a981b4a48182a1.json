{"id":"../node_modules/aws-amplify-react/dist/Auth/AuthPiece.js","dependencies":[{"name":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Auth/AuthPiece.js.map","includedInParent":true,"mtime":1552220008284},{"name":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/src/Auth/AuthPiece.jsx","includedInParent":true,"mtime":1552220008284},{"name":"/home/pronoob/Desktop/SandBox/ReactSandBox/package.json","includedInParent":true,"mtime":1552220018357},{"name":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/package.json","includedInParent":true,"mtime":1552220008284},{"name":"react","loc":{"line":25,"column":22},"parent":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Auth/AuthPiece.js","resolved":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/react/index.js"},{"name":"../Amplify-UI/Amplify-UI-Theme","loc":{"line":26,"column":33},"parent":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Auth/AuthPiece.js","resolved":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Amplify-UI/Amplify-UI-Theme.js"}],"generated":{"js":"\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar Amplify_UI_Theme_1 = require(\"../Amplify-UI/Amplify-UI-Theme\");\nvar AuthPiece = /** @class */ (function (_super) {\n    __extends(AuthPiece, _super);\n    function AuthPiece(props) {\n        var _this = _super.call(this, props) || this;\n        _this.inputs = {};\n        _this._isHidden = true;\n        _this._validAuthStates = [];\n        _this.changeState = _this.changeState.bind(_this);\n        _this.error = _this.error.bind(_this);\n        _this.handleInputChange = _this.handleInputChange.bind(_this);\n        return _this;\n    }\n    // extract username from authData\n    AuthPiece.prototype.usernameFromAuthData = function () {\n        var authData = this.props.authData;\n        if (!authData) {\n            return '';\n        }\n        var username = '';\n        if (typeof authData === 'object') { // user object\n            username = authData.user ? authData.user.username : authData.username;\n        }\n        else {\n            username = authData; // username string\n        }\n        return username;\n    };\n    AuthPiece.prototype.errorMessage = function (err) {\n        if (typeof err === 'string') {\n            return err;\n        }\n        return err.message ? err.message : JSON.stringify(err);\n    };\n    AuthPiece.prototype.triggerAuthEvent = function (event) {\n        var state = this.props.authState;\n        if (this.props.onAuthEvent) {\n            this.props.onAuthEvent(state, event);\n        }\n    };\n    AuthPiece.prototype.changeState = function (state, data) {\n        if (this.props.onStateChange) {\n            this.props.onStateChange(state, data);\n        }\n        this.triggerAuthEvent({\n            type: 'stateChange',\n            data: state\n        });\n    };\n    AuthPiece.prototype.error = function (err) {\n        this.triggerAuthEvent({\n            type: 'error',\n            data: this.errorMessage(err)\n        });\n    };\n    AuthPiece.prototype.handleInputChange = function (evt) {\n        this.inputs = this.inputs || {};\n        var _a = evt.target, name = _a.name, value = _a.value, type = _a.type, checked = _a.checked;\n        var check_type = ['radio', 'checkbox'].includes(type);\n        this.inputs[name] = check_type ? checked : value;\n        this.inputs['checkedValue'] = check_type ? value : null;\n    };\n    AuthPiece.prototype.render = function () {\n        if (!this._validAuthStates.includes(this.props.authState)) {\n            this._isHidden = true;\n            this.inputs = {};\n            return null;\n        }\n        if (this._isHidden) {\n            this.inputs = {};\n            var track = this.props.track;\n            if (track)\n                track();\n        }\n        this._isHidden = false;\n        return this.showComponent(this.props.theme || Amplify_UI_Theme_1.default);\n    };\n    AuthPiece.prototype.showComponent = function (theme) {\n        throw 'You must implement showComponent(theme) and don\\'t forget to set this._validAuthStates.';\n    };\n    return AuthPiece;\n}(react_1.Component));\nexports.default = AuthPiece;\n"},"sourceMaps":{"js":{"version":3,"file":"AuthPiece.js","sourceRoot":"","sources":["../../src/Auth/AuthPiece.jsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nimport { Component } from 'react';\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\n\nimport AmplifyTheme from '../Amplify-UI/Amplify-UI-Theme';\n\nexport default class AuthPiece extends Component {\n    constructor(props) {\n        super(props);\n\n        this.inputs = {};\n\n        this._isHidden = true;\n        this._validAuthStates = [];\n        this.changeState = this.changeState.bind(this);\n        this.error = this.error.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    // extract username from authData\n    usernameFromAuthData() {\n        const { authData } = this.props;\n        if (!authData) { return ''; }\n\n        let username = '';\n        if (typeof authData === 'object') { // user object\n            username = authData.user? authData.user.username : authData.username;\n        } else {\n            username = authData; // username string\n        }\n\n        return username;\n    }\n\n    errorMessage(err) {\n        if (typeof err === 'string') { return err; }\n        return err.message? err.message : JSON.stringify(err);\n    }\n\n    triggerAuthEvent(event) {\n        const state = this.props.authState;\n        if (this.props.onAuthEvent) { this.props.onAuthEvent(state, event); }\n    }\n\n    changeState(state, data) {\n        if (this.props.onStateChange) { this.props.onStateChange(state, data); }\n\n        this.triggerAuthEvent({\n            type: 'stateChange',\n            data: state\n        });\n    }\n\n    error(err) {\n        this.triggerAuthEvent({\n            type: 'error',\n            data: this.errorMessage(err)\n        });\n    }\n\n    handleInputChange(evt) {\n        this.inputs = this.inputs || {};\n        const { name, value, type, checked } = evt.target;\n        const check_type = ['radio', 'checkbox'].includes(type);\n        this.inputs[name] = check_type? checked : value;\n        this.inputs['checkedValue'] = check_type? value: null;\n    }\n\n    render() {\n        if (!this._validAuthStates.includes(this.props.authState)) {\n            this._isHidden = true;\n            this.inputs = {};\n            return null;\n        }\n\n        if (this._isHidden) {\n            this.inputs = {};\n            const { track } = this.props;\n            if (track) track();\n        }\n        this._isHidden = false;\n\n        return this.showComponent(this.props.theme || AmplifyTheme);\n    }\n\n    showComponent(theme) {\n        throw 'You must implement showComponent(theme) and don\\'t forget to set this._validAuthStates.';\n    }\n}\n"]}},"error":null,"hash":"db1425529694316dd2ce49db664594ab","cacheData":{"env":{}}}
{"id":"../node_modules/aws-amplify-react/dist/Widget/PhotoPicker.js","dependencies":[{"name":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Widget/PhotoPicker.js.map","includedInParent":true,"mtime":1552220008284},{"name":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/src/Widget/PhotoPicker.js","includedInParent":true,"mtime":1552220008284},{"name":"/home/pronoob/Desktop/SandBox/ReactSandBox/package.json","includedInParent":true,"mtime":1552220018357},{"name":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/package.json","includedInParent":true,"mtime":1552220008284},{"name":"react","loc":{"line":26,"column":22},"parent":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Widget/PhotoPicker.js","resolved":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/react/index.js"},{"name":"@aws-amplify/core","loc":{"line":27,"column":21},"parent":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Widget/PhotoPicker.js","resolved":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/@aws-amplify/core/lib/index.js"},{"name":"./Picker","loc":{"line":28,"column":23},"parent":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Widget/PhotoPicker.js","resolved":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Widget/Picker.js"},{"name":"../Amplify-UI/Amplify-UI-Theme","loc":{"line":29,"column":33},"parent":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Widget/PhotoPicker.js","resolved":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Amplify-UI/Amplify-UI-Theme.js"},{"name":"../Amplify-UI/Amplify-UI-Components-React","loc":{"line":30,"column":44},"parent":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Widget/PhotoPicker.js","resolved":"/home/pronoob/Desktop/SandBox/ReactSandBox/node_modules/aws-amplify-react/dist/Amplify-UI/Amplify-UI-Components-React.js"}],"generated":{"js":"\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_1 = require(\"react\");\nvar core_1 = require(\"@aws-amplify/core\");\nvar Picker_1 = require(\"./Picker\");\nvar Amplify_UI_Theme_1 = require(\"../Amplify-UI/Amplify-UI-Theme\");\nvar Amplify_UI_Components_React_1 = require(\"../Amplify-UI/Amplify-UI-Components-React\");\nvar PickerPreview = {\n    maxWidth: '100%'\n};\nvar logger = new core_1.ConsoleLogger('PhotoPicker');\nvar PhotoPicker = /** @class */ (function (_super) {\n    __extends(PhotoPicker, _super);\n    function PhotoPicker(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handlePick = _this.handlePick.bind(_this);\n        _this.state = {\n            previewSrc: props.previewSrc\n        };\n        return _this;\n    }\n    PhotoPicker.prototype.handlePick = function (data) {\n        var that = this;\n        var file = data.file, name = data.name, size = data.size, type = data.type;\n        var _a = this.props, preview = _a.preview, onPick = _a.onPick, onLoad = _a.onLoad;\n        if (onPick) {\n            onPick(data);\n        }\n        if (preview) {\n            var reader = new FileReader();\n            reader.onload = function (e) {\n                var url = e.target.result;\n                that.setState({ previewSrc: url });\n                if (onLoad) {\n                    onLoad(url);\n                }\n            };\n            reader.readAsDataURL(file);\n        }\n    };\n    PhotoPicker.prototype.render = function () {\n        var preview = this.props.preview;\n        var previewSrc = this.state.previewSrc;\n        var headerText = this.props.headerText || 'Photos';\n        var headerHint = this.props.headerHint || 'Add your photos by clicking below';\n        var title = this.props.title || 'Select a Photo';\n        var theme = this.props.theme || Amplify_UI_Theme_1.default;\n        var previewStyle = Object.assign({}, PickerPreview, theme.pickerPreview);\n        var previewHidden = !(preview && preview !== 'hidden');\n        return (React.createElement(Amplify_UI_Components_React_1.FormSection, { theme: theme },\n            React.createElement(Amplify_UI_Components_React_1.SectionHeader, { theme: theme, hint: headerHint }, core_1.I18n.get(headerText)),\n            React.createElement(Amplify_UI_Components_React_1.SectionBody, { theme: theme }, previewSrc ?\n                (previewHidden ?\n                    'The image has been selected' :\n                    React.createElement(\"img\", { src: previewSrc, style: previewStyle })) :\n                React.createElement(Amplify_UI_Components_React_1.PhotoPlaceholder, { theme: theme })),\n            React.createElement(Picker_1.default, { title: title, accept: \"image/*\", theme: theme, onPick: this.handlePick })));\n    };\n    return PhotoPicker;\n}(react_1.Component));\nexports.default = PhotoPicker;\n"},"sourceMaps":{"js":{"version":3,"file":"PhotoPicker.js","sourceRoot":"","sources":["../../src/Widget/PhotoPicker.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nimport * as React from 'react';\nimport { Component } from 'react';\n\nimport { I18n, ConsoleLogger as Logger } from '@aws-amplify/core';\nimport Picker from './Picker';\nimport AmplifyTheme from '../Amplify-UI/Amplify-UI-Theme';\nimport { FormSection, SectionHeader, SectionBody, PhotoPlaceholder } from '../Amplify-UI/Amplify-UI-Components-React';\n\n\nconst PickerPreview = {\n    maxWidth: '100%'\n};\n\nconst logger = new Logger('PhotoPicker');\n\nexport default class PhotoPicker extends Component {\n    constructor(props) {\n        super(props);\n\n        this.handlePick = this.handlePick.bind(this);\n\n        this.state = {\n            previewSrc: props.previewSrc\n        };\n    }\n\n    handlePick(data) {\n        const that = this;\n        const { file, name, size, type } = data;\n        const { preview, onPick, onLoad } = this.props;\n\n        if (onPick) { onPick(data); }\n\n        if (preview) {\n            const reader = new FileReader();\n            reader.onload = function(e) {\n                const url = e.target.result;\n                that.setState({ previewSrc: url });\n                if (onLoad) { onLoad(url); }\n            };\n            reader.readAsDataURL(file);\n        }\n    }\n\n    render() {\n        const { preview } = this.props;\n        const { previewSrc } = this.state;\n\n        const headerText = this.props.headerText || 'Photos';\n        const headerHint = this.props.headerHint || 'Add your photos by clicking below';\n        const title = this.props.title || 'Select a Photo';\n\n        const theme = this.props.theme || AmplifyTheme;\n        const previewStyle = Object.assign(\n            {},\n            PickerPreview,\n            theme.pickerPreview\n        );\n\n        const previewHidden = !(preview && preview !== 'hidden');\n\n        return (\n            <FormSection theme={theme}>\n                <SectionHeader theme={theme} hint={headerHint}>{I18n.get(headerText)}</SectionHeader>\n                <SectionBody theme={theme}>\n                    { previewSrc ? \n                        (previewHidden ? \n                            'The image has been selected':\n                            <img src={previewSrc} style={previewStyle} />\n                        ):\n                        <PhotoPlaceholder theme={theme}/>\n                    }\n                </SectionBody>\n                <Picker\n                    title={title}\n                    accept=\"image/*\"\n                    theme={theme}\n                    onPick={this.handlePick}\n                />\n            </FormSection>\n        );\n    }\n}\n"]}},"error":null,"hash":"3992938dc874a7ad94f9dd26c08a91b3","cacheData":{"env":{}}}